<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>My Portfolio Builder</title>
<style>
  body {font-family: Arial, sans-serif; background: #f0f8ff; margin:0; padding:20px;}
  .container {max-width: 1000px; margin: auto; background: white; padding: 25px; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.1);}
  h1 {text-align:center; color:#0066cc;}
  h2, h3 {color:#333;}
  .row {display:flex; gap:20px; margin-top:20px;}
  .col {flex:1;}
  label {display:block; margin:10px 0 5px; font-weight:bold;}
  input, textarea, select {width:100%; padding:10px; border:1px solid #ccc; border-radius:6px; box-sizing:border-box;}
  button {padding:10px 16px; background:#0066cc; color:white; border:none; border-radius:6px; cursor:pointer; margin-top:10px;}
  button:hover {background:#0055aa;}
  .section {background:#f9fbff; padding:15px; border-radius:8px; margin-top:15px;}
  .entry {background:white; padding:12px; border:1px solid #ddd; border-radius:6px; margin-top:10px;}
  .small-btn {background:#2e8b57; padding:8px 14px; font-size:0.9em;}
  #status, #msg {margin-top:10px; color:#444;}
  #logout {background:#c33;}
</style>
</head>
<body>

<div class="container">
  <h1>My Portfolio Builder</h1>

  <!-- Login / Register -->
  <div id="loginBox">
    <div class="row">
      <div class="col">
        <h3>Register</h3>
        <label>Email</label>
        <input type="email" id="reg_mail" placeholder="your@mail.com">
        <label>Password</label>
        <input type="password" id="reg_pwd">
        <button id="registerBtn">Create Account</button>
      </div>
      <div class="col">
        <h3>Login</h3>
        <label>Email</label>
        <input type="email" id="login_mail" placeholder="your@mail.com">
        <label>Password</label>
        <input type="password" id="login_pwd">
        <button id="loginBtn">Login</button>
      </div>
    </div>
    <div id="msg"></div>
  </div>

  <!-- Main Editor (hidden until login) -->
  <div id="editor" style="display:none;">
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h2>Welcome, <span id="currentUser"></span></h2>
      <button id="logout">Logout</button>
    </div>

    <div class="section">
      <label>Full Name</label>
      <input id="nameField">
      <label>Contact Info</label>
      <input id="contactField">
      <label>About Me</label>
      <textarea id="aboutField" rows="4"></textarea>
    </div>

    <div class="section">
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:15px;">
        <div>
          <label>Soft Skills (comma separated)</label>
          <input id="softSkills">
        </div>
        <div>
          <label>Technical Skills (comma separated)</label>
          <input id="techSkills">
        </div>
      </div>

      <div style="margin-top:20px;">
        <h3>Education</h3>
        <div id="eduList"></div>
        <button class="small-btn" id="addEdu">+ Add Education</button>
      </div>

      <div style="margin-top:20px;">
        <h3>Experience</h3>
        <div id="expList"></div>
        <button class="small-btn" id="addExp">+ Add Experience</button>
      </div>
    </div>

    <div style="margin-top:20px;">
      <button id="saveBtn">Save Data</button>
      <button id="loadBtn">Load Saved Data</button>
      <button id="pdfBtn">Download as PDF</button>
    </div>
    <div id="status"></div>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
// my own simple portfolio app - everything stored in browser
const $ = id => document.getElementById(id);
let eduCounter = 0, expCounter = 0;

function showMsg(text) { $('msg').innerHTML = text; }
function showStatus(text) { $('status').textContent = text; }

// storage helpers
const userKey = mail => 'user_' + mail.toLowerCase();
const dataKey = mail => 'data_' + mail.toLowerCase();

// register
$('registerBtn').onclick = () => {
  const mail = $('reg_mail').value.trim().toLowerCase();
  const pwd = $('reg_pwd').value;
  if (!mail || !pwd) return showMsg('Fill both fields');
  if (localStorage.getItem(userKey(mail))) return showMsg('Email already exists');
  localStorage.setItem(userKey(mail), JSON.stringify({pass: pwd}));
  showMsg('Registered! Now login →');
  $('reg_mail').value = $('reg_pwd').value = '';
};

// login
$('loginBtn').onclick = () => {
  const mail = $('login_mail').value.trim().toLowerCase();
  const pwd = $('login_pwd').value;
  if (!mail || !pwd) return showMsg('Enter email & password');
  const stored = localStorage.getItem(userKey(mail));
  if (!stored) return showMsg('No such user. Register first');
  if (JSON.parse(stored).pass !== pwd) return showMsg('Wrong password');
  
  localStorage.setItem('logged', mail);
  startEditor(mail);
};

// start editor after login
function startEditor(mail) {
  $('loginBox').style.display = 'none';
  $('editor').style.display = 'block';
  $('currentUser').textContent = mail;
  clearForms();
  showStatus('Ready. Fill your info and click Save');
  if (localStorage.getItem(dataKey(mail))) loadData();
}

// logout
$('logout').onclick = () => {
  localStorage.removeItem('logged');
  $('editor').style.display = 'none';
  $('loginBox').style.display = 'block';
  showMsg('');
};

// add education / experience
function addEdu(data={}) {
  eduCounter++;
  const div = document.createElement('div');
  div.className = 'entry';
  div.innerHTML = `
    <label>College/School</label><input value="${data.inst||''}">
    <label>Degree</label><input value="${data.deg||''}">
    <label>Year</label><input value="${data.year||''}">
  `;
  $('eduList').appendChild(div);
}
function addExp(data={}) {
  expCounter++;
  const div = document.createElement('div');
  div.className = 'entry';
  div.innerHTML = `
    <label>Employer</label><input value="${data.comp||''}">
    <label>Duration</label><input value="${data.dur||''}">
    <label>Responsibilities</label><textarea>${data.res||''}</textarea>
  `;
  $('expList').appendChild(div);
}
$('addEdu').onclick = () => addEdu();
$('addExp').onclick = () => addExp();

// clear forms
function clearForms() {
  $('eduList').innerHTML = $('expList').innerHTML = '';
  eduCounter = expCounter = 0;
  $('nameField').value = $('contactField').value = $('aboutField').value = '';
  $('softSkills').value = $('techSkills').value = '';
}

// collect all data
function collectData() {
  const edu = [];
  $('eduList').querySelectorAll('.entry').forEach(e => {
    const inputs = e.querySelectorAll('input');
    const textarea = e.querySelector('textarea');
    edu.push({
      inst: inputs[0].value.trim(),
      deg: inputs[1].value.trim(),
      year: inputs[2].value.trim()
    });
  });
  
  const exp = [];
  $('expList').querySelectorAll('.entry').forEach(e => {
    const inputs = e.querySelectorAll('input');
    const textarea = e.querySelector('textarea');
    exp.push({
      comp: inputs[0].value.trim(),
      dur: inputs[1].value.trim(),
      res: textarea ? textarea.value.trim() : ''
    });
  });
  
  return {
    name: $('nameField').value.trim(),
    contact: $('contactField').value.trim(),
    about: $('aboutField').value.trim(),
    soft: $('softSkills').value.trim(),
    tech: $('techSkills').value.trim(),
    education: edu,
    experience: exp
  };
}

// save & load
$('saveBtn').onclick = () => {
  const mail = localStorage.getItem('logged');
  if (!mail) return;
  localStorage.setItem(dataKey(mail), JSON.stringify(collectData()));
  showStatus('All data saved!');
};

function loadData() {
  const mail = localStorage.getItem('logged');
  const raw = localStorage.getItem(dataKey(mail));
  if (!raw) return;
  const d = JSON.parse(raw);
  $('nameField').value = d.name || '';
  $('contactField').value = d.contact || '';
  $('aboutField').value = d.about || '';
  $('softSkills').value = d.soft || '';
  $('techSkills').value = d.tech || '';
  (d.education || []).forEach(addEdu);
  (d.experience || []).forEach(addExp);
  showStatus('Saved data loaded');
}
$('loadBtn').onclick = loadData;

// PDF
$('pdfBtn').onclick = () => {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF();
  let y = 20;
  const data = collectData();
  
  doc.setFontSize(20);
  doc.text('My Portfolio', 105, y, {align:'center'}); y += 20;
  doc.setFontSize(12);
  doc.text(`Name: ${data.name || '-'}`, 20, y); y += 10;
  doc.text(`Contact: ${data.contact || '-'}`, 20, y); y += 15;
  
  doc.text('About Me:', 20, y); y += 8;
  doc.setFontSize(10);
  doc.text(doc.splitTextToSize(data.about || '—', 170), 20, y); y += 30;
  
  doc.setFontSize(12);
  doc.text('Soft Skills:', 20, y); y += 8;
  data.soft.split(',').forEach(s => { if(s.trim()) doc.text('• ' + s.trim(), 30, y); y += 7; });
  y += 5;
  
  doc.text('Technical Skills:', 20, y); y += 8;
  data.tech.split(',').forEach(s => { if(s.trim()) doc.text('• ' + s.trim(), 30, y); y += 7; });
  y += 10;
  
  doc.text('Education:', 20, y); y += 8;
  data.education.forEach(e => {
    doc.text(`• ${e.inst} — ${e.deg} (${e.year})`, 30, y); y += 8;
  });
  y += 10;
  
  doc.text('Experience:', 20, y); y += 8;
  data.experience.forEach(e => {
    doc.text(`• ${e.comp} (${e.dur})`, 30, y); y += 8;
    doc.text(doc.splitTextToSize(e.res, 160), 35, y); y += 15;
  });
  
  doc.save('my-portfolio.pdf');
  showStatus('PDF downloaded!');
};

// auto-login if already logged
window.onload = () => {
  const logged = localStorage.getItem('logged');
  if (logged) startEditor(logged);
};
</script>
</body>
</html>



